{"ast":null,"code":"import React,{useState}from'react';import{useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import{deleteProduct}from'../redux/productSlice';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ConfirmModal=_ref=>{let{isOpen,onConfirm,onCancel,productName}=_ref;if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Confirm Delete\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Are you sure you want to delete \\\"\",productName,\"\\\"?\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:onConfirm,children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:onCancel,children:\"Cancel\"})]})]})});};const ProductTable=_ref2=>{var _deleteModal$product;let{products}=_ref2;const dispatch=useDispatch();const navigate=useNavigate();const[deleteModal,setDeleteModal]=useState({isOpen:false,product:null});const handleEdit=id=>{navigate(\"/edit-product/\".concat(id));};const handleDeleteClick=product=>{setDeleteModal({isOpen:true,product});};const handleDeleteConfirm=()=>{dispatch(deleteProduct(deleteModal.product.id));setDeleteModal({isOpen:false,product:null});};const handleDeleteCancel=()=>{setDeleteModal({isOpen:false,product:null});};const formatPrice=price=>\"$\".concat(price.toFixed(2));const isLowStock=stock=>stock<=5;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Stock\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Expiry Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(product=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.id}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.category}),/*#__PURE__*/_jsx(\"td\",{children:formatPrice(product.price)}),/*#__PURE__*/_jsx(\"td\",{className:isLowStock(product.stock)?'low-stock':'',children:product.stock}),/*#__PURE__*/_jsx(\"td\",{children:product.expiry}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-sm\",onClick:()=>handleEdit(product.id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:()=>handleDeleteClick(product),children:\"Delete\"})]})})]},product.id))})]})}),/*#__PURE__*/_jsx(ConfirmModal,{isOpen:deleteModal.isOpen,onConfirm:handleDeleteConfirm,onCancel:handleDeleteCancel,productName:(_deleteModal$product=deleteModal.product)===null||_deleteModal$product===void 0?void 0:_deleteModal$product.name})]});};export default ProductTable;","map":{"version":3,"names":["React","useState","useDispatch","useNavigate","deleteProduct","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ConfirmModal","_ref","isOpen","onConfirm","onCancel","productName","className","children","onClick","ProductTable","_ref2","_deleteModal$product","products","dispatch","navigate","deleteModal","setDeleteModal","product","handleEdit","id","concat","handleDeleteClick","handleDeleteConfirm","handleDeleteCancel","formatPrice","price","toFixed","isLowStock","stock","map","name","category","expiry"],"sources":["D:/WORK/Inventory Management System/src/components/ProductTable.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { deleteProduct } from '../redux/productSlice';\r\n\r\nconst ConfirmModal = ({ isOpen, onConfirm, onCancel, productName }) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal\">\r\n        <h3>Confirm Delete</h3>\r\n        <p>Are you sure you want to delete \"{productName}\"?</p>\r\n        <div className=\"modal-actions\">\r\n          <button className=\"btn btn-danger\" onClick={onConfirm}>\r\n            Delete\r\n          </button>\r\n          <button className=\"btn btn-secondary\" onClick={onCancel}>\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ProductTable = ({ products }) => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const [deleteModal, setDeleteModal] = useState({ isOpen: false, product: null });\r\n\r\n  const handleEdit = (id) => {\r\n    navigate(`/edit-product/${id}`);\r\n  };\r\n\r\n  const handleDeleteClick = (product) => {\r\n    setDeleteModal({ isOpen: true, product });\r\n  };\r\n\r\n  const handleDeleteConfirm = () => {\r\n    dispatch(deleteProduct(deleteModal.product.id));\r\n    setDeleteModal({ isOpen: false, product: null });\r\n  };\r\n\r\n  const handleDeleteCancel = () => {\r\n    setDeleteModal({ isOpen: false, product: null });\r\n  };\r\n\r\n  const formatPrice = (price) => `$${price.toFixed(2)}`;\r\n  \r\n  const isLowStock = (stock) => stock <= 5;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"table-container\">\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Name</th>\r\n              <th>Category</th>\r\n              <th>Price</th>\r\n              <th>Stock</th>\r\n              <th>Expiry Date</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {products.map((product) => (\r\n              <tr key={product.id}>\r\n                <td>{product.id}</td>\r\n                <td>{product.name}</td>\r\n                <td>{product.category}</td>\r\n                <td>{formatPrice(product.price)}</td>\r\n                <td className={isLowStock(product.stock) ? 'low-stock' : ''}>\r\n                  {product.stock}\r\n                </td>\r\n                <td>{product.expiry}</td>\r\n                <td>\r\n                  <div className=\"actions\">\r\n                    <button\r\n                      className=\"btn btn-primary btn-sm\"\r\n                      onClick={() => handleEdit(product.id)}\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-danger btn-sm\"\r\n                      onClick={() => handleDeleteClick(product)}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <ConfirmModal\r\n        isOpen={deleteModal.isOpen}\r\n        onConfirm={handleDeleteConfirm}\r\n        onCancel={handleDeleteCancel}\r\n        productName={deleteModal.product?.name}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}